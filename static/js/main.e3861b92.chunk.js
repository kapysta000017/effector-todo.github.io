(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{42:function(t,e,c){},43:function(t,e,c){},44:function(t,e,c){},64:function(t,e,c){},65:function(t,e,c){},71:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c(0),r=c(35),i=c.n(r),s=(c(42),c(9)),o=c(8),u=(c(43),c(44),c.p+"static/media/list.a8982468.svg"),d=c.p+"static/media/add.7e537346.svg",l=c.p+"static/media/remove.c130db59.svg",b=c.p+"static/media/edit.5be2348c.svg",j=c.p+"static/media/check.4b7b1262.svg",p=c(3),f=c(5),O=c(6),m=c.n(O),h=c(15),x=c(2),v=c(13),_=c.n(v),k=Object(p.a)(),g=Object(x.c)(Object(h.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("https://6047f10db801a40017ccd2ba.mockapi.io/lists");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),N=Object(x.c)(Object(h.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("https://6047f10db801a40017ccd2ba.mockapi.io/colors");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));Object(x.i)({clock:k.open,target:[g,N]});var w=Object(x.e)([]).on(g.doneData,(function(t,e){return e.data})),I=Object(x.e)(null).on(g.failData,(function(t,e){return e.response.status})),C=Object(x.e)([]).on(N.doneData,(function(t,e){return e.data})),y=Object(x.d)(),A=Object(x.c)(function(){var t=Object(h.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.post("https://6047f10db801a40017ccd2ba.mockapi.io/lists",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D=Object(x.e)("").on(y,(function(t,e){return e})).reset(A),L=Object(x.d)(),S=Object(x.e)(null).on(L,(function(t,e){return e})),T=Object(x.d)(),V=Object(x.c)(function(){var t=Object(h.a)(m.a.mark((function t(e){var c,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e,"/items"));case 2:return c=t.sent,n=c.data,t.next=6,n.forEach((function(t){return _.a.delete("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e,"/items/").concat(t.id))}));case 6:return t.next=8,_.a.delete("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),$=V.map((function(t){return t}));Object(x.i)({clock:T,source:S,fn:function(t,e){return{title:e,color:t}},target:A}),Object(x.i)({clock:A.doneData,source:w,fn:function(t,e){var c=e.data;return[].concat(Object(f.a)(t),[c])},target:w}),Object(x.i)({clock:$,source:w,fn:function(t,e){return t.filter((function(t){return t.id!==e}))},target:w});var E=Object(x.c)(function(){var t=Object(h.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.put("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e.id),Object(s.a)({},e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),J=E.map((function(t){return t}));Object(x.i)({clock:J,source:w,fn:function(t,e){return t.map((function(t){return t.id===e.id?Object(s.a)(Object(s.a)({},t),{},{title:e.title}):t}))},target:w});var B=Object(p.a)(),F=Object(x.c)(function(){var t=Object(h.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e,"/items"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),q=Object(x.e)(null).on(F.failData,(function(t,e){return e.response.status})),z=Object(x.e)([]).on(F.doneData,(function(t,e){return e.data}));Object(x.f)({source:B.state,filter:function(t){return"string"===typeof t},target:F});var G=Object(x.c)(function(){var t=Object(h.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.put("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e.listId,"/items/").concat(e.id),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());Object(x.i)({clock:G,source:z,fn:function(t,e){return t.map((function(t){return t.id===e.id?e:t}))},target:z});var H=Object(x.c)(function(){var t=Object(h.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.delete("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e.listId,"/items/").concat(e.id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),K=H.map((function(t){return t.id}));Object(x.i)({clock:K,source:z,fn:function(t,e){return t.filter((function(t){return t.id!==e}))},target:z});var M=Object(x.d)(),P=Object(x.d)(),Q=Object(x.c)(function(){var t=Object(h.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.post("https://6047f10db801a40017ccd2ba.mockapi.io/lists/".concat(e.id,"/items"),{completed:!1,text:e.text});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),R=Object(x.e)("").on(M,(function(t,e){return e})).reset(Q);Object(x.i)({clock:P,target:Q}),Object(x.i)({clock:Q.doneData,source:z,fn:function(t,e){var c=e.data;return[].concat(Object(f.a)(t),[c])},target:z});var U=c(4),W=c(20),X=c.n(W),Y=c.p+"static/media/close.0563020f.svg";c(64);function Z(t){var e=t.$inputValue,c=t.changeInputList,r=t.$colors,i=t.onSelectColor,s=t.onAddTodo,u=t.setActive,d=t.isLoadingAdd,l=Object(a.useState)(null),b=Object(o.a)(l,2),j=b[0],f=b[1],O=Object(p.c)(r),m=Object(p.c)(e);return Object(n.jsxs)("div",{className:"sidebar__add",children:[Object(n.jsx)("img",{onClick:function(t){return u(!t)},src:Y,alt:"closebutton"}),Object(n.jsx)("div",{className:"sidebar__add__color",children:O.map((function(t){return Object(n.jsx)("i",{className:X()(t.name,t.id===j&&"select"),onClick:function(){return e=t.id,c=t.name,i(c),void f((function(){return e}));var e,c}},t.id)}))}),Object(n.jsx)("div",{className:"sidebar__add__input",children:Object(n.jsx)("input",{type:"text",value:m,onChange:function(t){return c(t.target.value)},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{disabled:d,onClick:function(){""!==m.trim()&&j&&s(m.trim())},children:d?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})}c(65);function tt(t){var e=t.changeInputItem,c=t.inputValueItem,r=t.onAddItem,i=t.id,s=t.fetchAddItem,u=Object(p.c)(c),l=Object(p.c)(s.pending),b=Object(a.useState)(!1),j=Object(o.a)(b,2),f=j[0],O=j[1];return Object(n.jsx)("div",{children:f?Object(n.jsxs)("div",{className:"add__input",children:[Object(n.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0430",onChange:function(t){return e(t.target.value)},value:u}),Object(n.jsxs)("div",{className:"add__buttons",children:[Object(n.jsx)("button",{className:"add__buttons__add",onClick:function(){return function(t,e){""!==e.trim()&&r({id:t,text:e})}(i,u.trim())},children:l?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(n.jsx)("button",{onClick:function(){return O((function(t){return!t}))},className:"add__buttons__close",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]}):Object(n.jsxs)("div",{className:"default",onClick:function(){return O((function(t){return!t}))},children:[Object(n.jsx)("img",{src:d,alt:"add"}),Object(n.jsx)("span",{className:"default__add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})]})})}var et=c(23);function ct(){return Object(n.jsxs)(et.a,{children:[Object(n.jsx)(nt,{}),Object(n.jsx)(U.a,{path:"/tasks/:id",component:at})]})}function nt(){var t=Object(a.useState)(!1),e=Object(o.a)(t,2),c=e[0],r=e[1];Object(p.b)(k);var i=Object(p.c)(g.pending),s=Object(p.c)(A.pending),b=Object(p.c)(w),j=Object(p.c)(I),f=Object(U.e)();Object(p.b)(k);return j?Object(n.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0448\u0438\u0431\u043a\u0438 ".concat(j)}):Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsxs)("div",{className:"sidebar__titleLists",children:[Object(n.jsx)("img",{className:"sidebar__imgTasks",src:u,alt:"listSvg"}),Object(n.jsx)("span",{children:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})]}),i?Object(n.jsx)("h3",{children:"Loading..."}):b.map((function(t){return Object(n.jsxs)("li",{onClick:function(e){return c=e.target.localName,n=t.id,void("img"!==c&&f.push("/tasks/".concat(n)));var c,n},children:[Object(n.jsx)("i",{className:"title__".concat(t.color)}),Object(n.jsx)("span",{className:"sidebar__text",children:t.title}),Object(n.jsx)("img",{className:"sidebar__remove",src:l,alt:"remove",onClick:function(){return e=t.id,void(window.confirm("\u0422\u043e\u0447\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c?")&&(V(e),f.push("/")));var e}})]},t.id)})),c?Object(n.jsx)(Z,{isLoadingAdd:s,setActive:r,$colors:C,$inputValue:D,changeInputList:y,onAddTodo:T,onSelectColor:L}):Object(n.jsxs)("div",{className:"sidebar__addTodo",onClick:function(){return r((function(t){return!t}))},children:[Object(n.jsx)("img",{src:d,alt:"add"}),Object(n.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})]})]})}function at(t){var e=t.match,c=Object(U.e)();Object(p.b)(B,e.params.id);var a=Object(p.c)(w),r=Object(p.c)(z),i=Object(p.c)(F.pending),o=Object(p.c)(q);return o?Object(n.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0448\u0438\u0431\u043a\u0438 ".concat(o)}):Object(n.jsxs)("div",{className:"tasks",children:[a.map((function(t){return t.id===e.params.id?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"tasks__title",children:[Object(n.jsx)("h2",{className:X()("tasks__title__text","main__title__".concat(t.color)),children:t.title}),Object(n.jsx)("img",{onClick:function(){return function(t){var e=window.prompt("\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c?",[t.title]);E({id:t.id,color:t.color,title:e})}(t)},className:"tasks__title__edit",src:b,alt:"edit"})]}),i?Object(n.jsx)("h3",{children:"loading..."}):r.map((function(t){return Object(n.jsxs)("div",{className:"tasks__item",children:[Object(n.jsx)("input",{id:"check".concat(t.id),className:"tasks__item__check",type:"checkbox",checked:t.completed,onChange:function(){return G(Object(s.a)(Object(s.a)({},t),{},{completed:!t.completed}))}}),Object(n.jsx)("label",{htmlFor:"check".concat(t.id),children:Object(n.jsx)("img",{src:j,alt:"check"})}),Object(n.jsx)("li",{className:"tasks__item__text",children:t.text}),Object(n.jsx)("img",{src:l,alt:"delete",onClick:function(){return H({id:t.id,listId:t.listId})}})]},t.id)}))]},t.id):null})),"/"===c.location.pathname?null:Object(n.jsx)(tt,{fetchAddItem:Q,changeInputItem:M,inputValueItem:R,onAddItem:P,id:e.params.id})]})}var rt=function(){return Object(n.jsx)("div",{className:"todo",children:Object(n.jsx)(ct,{})})};i.a.render(Object(n.jsx)(rt,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.e3861b92.chunk.js.map